#pragma config(Sensor, S2,     ir,             sensorHiTechnicIRSeeker1200)
#pragma config(Motor,  motorA,          leftMotor,     tmotorNXT, PIDControl, reversed, encoder)
#pragma config(Motor,  motorB,          rightMotor,    tmotorNXT, PIDControl, reversed, encoder)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

#include "JoystickDriver.c"
#include "../library/sensors/ir_seeker.c"
#include "../library/drive_modes/tank_2m.c"

#pragma debuggerWindows("joystickSimple");
#pragma debuggerWindows("nxtLCDScreen");
#pragma debuggerWindows("nxtDevices");

const int QUARTER_IMPULSE = 35;
const int MIDDLE_IR = 5;
task main()
{
	RegisterIRSeeker(ir);
	RegisterDriveMotors(leftMotor, rightMotor);
	int irVal = ReadIR();

	while(true)
	{
		getJoystickSettings(joystick);
		irVal = ReadIR();
		if(irVal < MIDDLE_IR)
			TurnRight(QUARTER_IMPULSE);
		else if(irVal > MIDDLE_IR)
			TurnLeft(QUARTER_IMPULSE);
		else
			DriveForward(QUARTER_IMPULSE);
	}
}
